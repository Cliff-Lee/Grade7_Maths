<!DOCTYPE html>
<html>
<head>
    <title>Interactive Math Tricks</title>
    <!-- Use a fun Google Font -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet">

    <style>
        /* Global Styles */
        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #ff9f1c, #ffbf69);
            font-family: 'Fredoka One', cursive;
            color: #333;
        }
        h1, p, label, select, input, button {
            font-family: 'Fredoka One', cursive;
        }
        h1 {
            text-align: center;
            padding: 20px;
            color: #fff;
            text-shadow: 2px 2px #333;
        }
        p {
            text-align: center;
            color: #fff;
        }

        /* Container */
        #contentWrapper {
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 10px;
            width: 80%;
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
        }

        /* Trick Select */
        #selectionRow {
            text-align: center;
            margin: 20px auto;
        }
        #trickSelect {
            padding: 10px;
            font-size: 16px;
            border-radius: 10px;
            border: 2px solid #ff9f1c;
            outline: none;
            cursor: pointer;
        }
        #trickSelect:hover {
            background-color: #ff9f1c;
            color: #fff;
        }

        /* Trick Steps Container */
        #trickContainer {
            margin-top: 20px;
            background-color: #fff;
            border: 2px dashed #ff9f1c;
            border-radius: 10px;
            padding: 20px;
        }

        /* Steps and Results */
        .step {
            margin-bottom: 15px;
        }
        .step label {
            display: block;
            margin-bottom: 5px;
        }
        #result {
            margin-top: 20px;
            font-size: 18px;
            color: #ff9f1c;
        }

        /* Step-by-step reveal */
        #stepDisplay p {
            background: #fff4dd;
            border: 1px solid #ffbf69;
            border-radius: 5px;
            padding: 8px;
            margin: 10px 0;
            color: #000; /* Black text for visibility in steps */
        }

        /* Inputs and Buttons */
        input[type="number"] {
            width: 80px;
            padding: 5px;
            border: 2px solid #ffbf69;
            border-radius: 8px;
            margin-right: 5px;
            font-size: 14px;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #fff;
            border: 2px solid #ff9f1c;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-right: 5px;
        }
        button:hover {
            background-color: #ff9f1c;
            color: #fff;
        }

        /* Footer */
        footer {
            text-align: center;
            color: #fff;
            margin: 20px 0;
        }
        footer p {
            margin: 0;
            font-size: 14px;
            opacity: 0.8;
        }

        /* Card Style (For Trick #15) */
        .card {
            border: 2px solid #ffbf69;
            border-radius: 10px;
            display: inline-block;
            margin: 5px;
            padding: 10px;
            vertical-align: top;
            background-color: #fff;
            box-shadow: 2px 2px 10px rgba(0,0,0,0.1);
            min-width: 140px;
            /* Ensures all text in the card is black */
            color: #000;
        }
        .card p {
            color: #000; /* Extra clarity for paragraph text inside cards */
        }
        .card label {
            color: #000; /* Checkbox label inside card is also black */
        }
    </style>
</head>
<body>
    <h1>Interactive Math Tricks ✨</h1>
    <div id="contentWrapper">
        <p>Select a trick from the list below, input your number, and follow the steps to see the magic!</p>
        <div id="selectionRow">
            <label for="trickSelect">Choose a trick:</label>
            <select id="trickSelect">
                <option value="">--Select a Trick--</option>
                <option value="1">Trick #1: Think of a number between 1 and 10</option>
                <option value="2">Trick #2: Think of any number and multiply it by 3</option>
                <option value="3">Trick #3: Think of a number between 1 and 20</option>
                <option value="4">Trick #4: Think of any number and add it to the next-highest integer</option>
                <option value="5">Trick #5: Think of any number between 20 and 100</option>
                <option value="6">Trick #6: Think of any number and add 5 to it</option>
                <option value="7">Trick #7: Think of a 3-digit number that has 3 different digits</option>
                <option value="8">Trick #8: Think of a 3-digit number where every digit is different</option>
                <option value="9">Trick #9: Think of a number between 1 and 8</option>
                <option value="10">Trick #10: Think of a number between 1 and 6</option>
                <option value="11">Trick #11: Think of any even number and multiply it by 6</option>
                <option value="12">Trick #12: Think of a 3-digit number that repeats the same digit</option>
                <option value="13">Trick #13: Think of a 6-digit number with two repeating 3-digit numbers</option>
                <option value="14">Trick #14: Multiply the first digit in your age by 5</option>
                <option value="15">Trick #15: Paper Cards Trick</option>
            </select>
        </div>
        <div id="trickContainer"></div>
    </div>

    <footer>
        <p>Created by cliffpackman@gmail.com on 7/2/2025</p>
    </footer>

    <script>
        /************************************************
         *  HELPER: SHUFFLE ARRAY (Fisher-Yates Shuffle) *
         ************************************************/
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        /***********************************************
         *  HELPER FUNCTION FOR STEP-BY-STEP DISPLAY   *
         *   + "RETRY TRICK" BUTTON AT THE END         *
         ***********************************************/
        function showSteps(stepsArray, container, retryCallback) {
            container.innerHTML = `
                <div id="stepDisplay"></div>
                <button id="nextStepBtn">Next Step</button>
            `;
            let stepIndex = 0;
            const stepDisplay = container.querySelector('#stepDisplay');
            const nextStepBtn = container.querySelector('#nextStepBtn');

            // Each click shows the next step
            nextStepBtn.addEventListener('click', function handleNextStep() {
                if (stepIndex < stepsArray.length) {
                    const stepParagraph = document.createElement('p');
                    stepParagraph.innerHTML = stepsArray[stepIndex];
                    stepDisplay.appendChild(stepParagraph);
                    stepIndex++;
                    if (stepIndex === stepsArray.length) {
                        // All steps shown. Replace "Next Step" with "Retry Trick"
                        nextStepBtn.textContent = "Retry Trick";
                        // Remove old listener
                        nextStepBtn.removeEventListener('click', handleNextStep);
                        // Add new listener for retry
                        nextStepBtn.addEventListener('click', () => {
                            container.innerHTML = '';
                            if (typeof retryCallback === 'function') {
                                retryCallback();
                            }
                        });
                    }
                }
            });
        }

        /***********************************************
         *           TRICK SELECTION LISTENER          *
         ***********************************************/
        document.getElementById('trickSelect').addEventListener('change', function() {
            const trickNumber = this.value;
            const container = document.getElementById('trickContainer');
            container.innerHTML = '';
            if (trickNumber === '') return;

            switch (trickNumber) {
                case '1': trick1(); break;
                case '2': trick2(); break;
                case '3': trick3(); break;
                case '4': trick4(); break;
                case '5': trick5(); break;
                case '6': trick6(); break;
                case '7': trick7(); break;
                case '8': trick8(); break;
                case '9': trick9(); break;
                case '10': trick10(); break;
                case '11': trick11(); break;
                case '12': trick12(); break;
                case '13': trick13(); break;
                case '14': trick14(); break;
                case '15': trick15(); break;
            }
        });

        /***********************************************
         *   EXAMPLE: TRICK #1, #2, ETC. (omitted here)
         *   For brevity, we show only #15 below.
         ***********************************************/

        /***********************************************
         *               TRICK #15 (Cards)            *
         ***********************************************/
        function trick15() {
            const container = document.getElementById('trickContainer');
            container.innerHTML = `
                <div class="step">
                    <label>Think of a number between 1 and 14.</label>
                    <p><strong>Check each card that contains your chosen number!</strong></p>
                    <div id="cards"></div>
                </div>
                <button id="startTrick15">Reveal Number</button>
                <div id="result"></div>
            `;

            // "key" is the hidden number used for summing
            let cardsData = [
                { key: 1,  numbers: [12, 6, 11, 13, 7, 8] },
                { key: 2,  numbers: [11, 9, 10, 12, 7, 14] },
                { key: 3,  numbers: [13, 9, 10, 11, 8, 14] },
                { key: 4,  numbers: [13, 9, 12, 14, 7, 8] },
                { key: 5,  numbers: [12, 6, 11, 14, 10, 13] }
            ];

            const cardsDiv = document.getElementById('cards');
            cardsDiv.innerHTML = '';
            let checkboxes = [];

            cardsData.forEach(function(card, index) {
                // Combine the "key" with the existing numbers in random order
                const allNumbers = card.numbers.slice();
                allNumbers.push(card.key);
                shuffle(allNumbers);

                let cardDiv = document.createElement('div');
                cardDiv.className = 'card';
                cardDiv.innerHTML = `
                    <strong>Card #${index + 1}</strong><br>
                    <p>Numbers: ${allNumbers.join(', ')}</p>
                `;
                let checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.id = 'card' + index;
                let label = document.createElement('label');
                label.htmlFor = 'card' + index;
                label.textContent = 'My number is here!';

                // Append to card div
                cardDiv.appendChild(checkbox);
                cardDiv.appendChild(label);
                cardsDiv.appendChild(cardDiv);

                // Keep track of the "key"
                checkboxes.push({ checkbox: checkbox, keyValue: card.key });
            });

            // When user clicks "Reveal Number"
            document.getElementById('startTrick15').addEventListener('click', function() {
                let sum = 0;
                checkboxes.forEach(function(item) {
                    if (item.checkbox.checked) {
                        sum += item.keyValue;
                    }
                });
                let resultDiv = document.getElementById('result');
                resultDiv.innerHTML = `
                    <strong>Your number is ${sum}!</strong><br>
                    <em>🧐 Inquiry:</em>
                    Each card has a hidden “key” value. How do these keys add up
                    to reveal your chosen number? What algebraic principle might be at play?
                `;
            });
        }
    </script>
</body>
</html>
